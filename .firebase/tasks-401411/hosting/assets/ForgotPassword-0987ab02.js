import{u as L,r as s,j as e,b as M,v as A,k as B,d as N,l as D,m as H,a as d}from"./index-166f2e56.js";import{P as U,T as g,F as w,I as l,S as f}from"./Toast-2c99ee0e.js";import"./createSvgIcon-2de89d0c.js";import"./styled-42428bf9.js";const G=()=>{const m=t=>{const r=M();return new URLSearchParams(r.search).get(t)},i=L(),[u,j]=s.useState(""),[E,P]=s.useState(!1),[o,y]=s.useState(""),[n,S]=s.useState(""),[x,v]=s.useState(""),[b,T]=s.useState(!1),[k,h]=s.useState(!1);async function C(t){if(t.preventDefault(),n.trim()!=x.trim()){h(!0);return}A(d,p).then(r=>{const c=r;B(d,p,n).then(a=>{N(d,c,n).then(()=>{i("/")})}).catch(a=>{throw a})}).catch(r=>{i("/reset-password")})}const F=m("mode"),p=m("oobCode");async function R(t){t.preventDefault();const r=D();var c={url:window.location.origin};H(r,u,c).then(()=>{i("/login")}).catch(a=>{a.code;const I=a.message;y(I)})}return e.jsx(e.Fragment,{children:e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundImage:"linear-gradient(to top, #fbc2eb 0%, #a6c1ee 100%)"},children:e.jsx(U,{sx:{width:"430px",textAlign:"center",padding:"0px 0px 30px 0px",margin:"auto",opacity:"1"},children:e.jsxs("div",{style:{width:"78%",margin:"auto"},children:[e.jsx("h2",{style:{marginBottom:"30px",marginTop:"30px"},children:"Reset your password"}),F==="resetPassword"?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Please enter your new password below."}),e.jsxs("form",{onSubmit:C,children:[o!=""&&e.jsx(g,{error:o}),e.jsxs(w,{sx:{width:"100%"},children:[e.jsx(l,{name:"New Password",error:b,setError:T,text:n,errorMessage:"Please enter your email in correct format.",setText:S}),e.jsx(l,{name:"Verify new password",error:k,setError:h,text:x,errorMessage:"Password do not match.",setText:v})]}),e.jsx(f,{value:"Send Link",loading:!1})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Enter your email address , and we'll send you a link to get back into your account."}),e.jsxs("form",{onSubmit:R,children:[o!=""&&e.jsx(g,{error:o}),e.jsx(w,{sx:{width:"100%"},children:e.jsx(l,{name:"Email",error:E,setError:P,text:u,errorMessage:"Please enter your email in correct format.",setText:j})}),e.jsx(f,{value:"Send Link",loading:!1})]})]})]})})})})};export{G as default};
